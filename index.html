<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Catan</title>
    <link rel="stylesheet" href="src/css/style.css">
</head>

<body>

    <div class="modal-container" id="game-menu">
        <div class="modal">
            <h2 style="text-align: center">Game Settings</h2>
            <div>
                Player Name: <input type="text" id="input-player-name" value="Player 1"></input><br><br>
            </div>


            <label for="num-ai-players">AI players</label>
            <input type="range" id="num-ai-players" min="1" max="3" value="1"
                oninput="this.nextElementSibling.value = this.value">
            <output id="ai-players-value">1</output>

            <button id="btn-start-game">Start Game</button>
        </div>
    </div>


    <template id="game-template">
        <div id="game-container">
            <svg id="map-svg" xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="-600 -350 1200 700">
                <g id="defs-layer"></g> <!-- Definitions layer for patterns (terrain and tokens)-->
                <g id="static-layer"></g>
                <!-- static, tile, port and token layer, should not change through the game -->
                <g id="road-layer"></g>
                <g id="settlement-layer"></g>
                <g id="robber-layer"></g>
                <g id="interaction-layer"></g>
            </svg>

            <div id="overlay-container"></div> <!-- Container for modals and overlays -->

            <!-- Show player hands -->
            <div id="player-hands-resources-container"></div>
            <!-- Show player dev cards (unused) -->
            <div id="player-hands-devcards-container"></div>
            <!-- Show player used dev cards -->
            <div id="player-used-devcards-container"></div>

            <div id="ui-layer">
                <div id="dice-layer">
                    <button id="btn-roll" class="btn-primary">Roll Dice</button>
                </div>

                <div id="action-layer">
                    <button id="btn-build-road" class="btn-primary">Build Road</button>
                    <button id="btn-build-settlement" class="btn-primary">Build Settlement</button>
                    <button id="btn-build-city" class="btn-primary">Build City</button>
                    <button id="btn-buy-dev-card" class="btn-primary">Buy Dev Card</button>
                </div>
                <button id="btn-end-turn" class="btn-primary">End Turn</button>
            </div>
        </div>
    </template>

    <template id="universal-modal-template">
        <div class="modal-overlay">
            <div class="modal-card">
                <h1 id="modal-title"></h1>

                <div id="modal-body"></div>

                <div id="modal-btns"></div>
                <div id="modal-footer">
                </div>
            </div>
        </div>
    </template>


    <template id="game-over-template">
        <div class="game-over-overlay">
            <div class="game-over-card">
                <h1>Game Over!</h1>
                <div id="winner-announcement"></div>
                <button id="play-again-btn" onclick="location.reload()">Play Again</button>
            </div>
        </div>
    </template>

    <!-- The game will be rendered here -->
    <div id="main-wrapper">
    </div>

    <div>
        <div id="debug-toggle-container">
            <label class="toggle-switch">
                <input type="checkbox" id="debug-toggle-btn">
                <span class="slider"></span>
            </label>
            <span class="debug-label">Debug Console</span>
        </div>

        <div id="debug-wrapper" class="hidden">
            <div id="debug-dashboard">
            </div>
            <div id="debug-input-area">
                <textarea id="debug-input" placeholder="Enter debug command here..."></textarea>
                <button id="debug-submit">Submit</button>
            </div>
        </div>
    </div>

    <template id="card-template">
        <div class="card-container">
            <img class="card-image" src="" alt="Card Image">
        </div>
    </template>

    <template id="card-action-menu-template">
        <div class="card-popover">
            <div class="popover-row action" id="play-dev-card-btn">Play</div>
            <div class="popover-row cancel" id="cancel-dev-card-btn">Cancel</div>
        </div>
    </template>


    <script type="module" src="src/js/main.js"></script>
</body>

</html>